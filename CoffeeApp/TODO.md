# Coffee Aggregator ‚Äî –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (MVVM)

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **Coffee Aggregator** –≤ —Å—Ç—Ä–æ–≥–æ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π **MVVM**.  
–§–æ–∫—É—Å: –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ Apple, —Å—Ç–µ–∫ **Swift + Firebase**.

---

## üîπ –≠—Ç–∞–ø 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –≤ **Xcode** (App, Swift, SwiftUI/UIKit ‚Äî –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±–æ—Ä–∞).  
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞**:
   - –ü–∞–ø–∫–∏: `Model/`, `View/`, `ViewModel/`, `Services/`, `Resources/`.  
   - –ö–∞–∂–¥–æ–º—É —ç–∫—Ä–∞–Ω—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–≤–æ—è –ø–∞–ø–∫–∞ —Å –ø–æ–¥–ø–∞–ø–∫–∞–º–∏ `Model`, `View`, `ViewModel`.  
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ **Swift Package Manager**:
   - Firebase SDK (`Auth`, `Firestore`, `Storage`).  
   - MapKit.  
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Lottie (–¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π), Kingfisher (–¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π).  
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **Firebase –ø—Ä–æ–µ–∫—Ç**:
   - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Firebase Console.  
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å GoogleService-Info.plist.  
   - –í–∫–ª—é—á–∏—Ç—å –º–æ–¥—É–ª–∏: **Authentication**, **Firestore**, **Storage**.  

---

## üîπ –≠—Ç–∞–ø 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (MVVM)
–ö–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω —Å–ª–µ–¥—É–µ—Ç —Å—Ö–µ–º–µ:
- **Model**: –¥–∞–Ω–Ω—ã–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.  
- **ViewModel**: –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è View.  
- **View**: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —Ç–æ–ª—å–∫–æ UI, —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è ViewModel.  

–ü–∞—Ç—Ç–µ—Ä–Ω:  
View ‚Üî ViewModel ‚Üî Model ‚Üî Services (Firebase)


---

## üîπ –≠—Ç–∞–ø 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–æ–≤

### 3.1 –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **Model**: `User`.  
- **ViewModel**: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Ç–µ–ª–µ—Ñ–æ–Ω/–ø–æ—á—Ç–∞/Apple Sign-In).  
- **View**: –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞.  

### 3.2 –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (–∫–∞—Ä—Ç–∞ –∫–æ—Ñ–µ–µ–Ω)
- **Model**: `CoffeeShop` (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å—Ç–∞—Ç—É—Å).  
- **ViewModel**: –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∫–æ—Ñ–µ–µ–Ω –∏–∑ Firestore.  
- **View**: –∫–∞—Ä—Ç–∞ —Å –ø–∏–Ω–∞–º–∏ (MapKit).  

### 3.3 –≠–∫—Ä–∞–Ω –∫–æ—Ñ–µ–π–Ω–∏
- **Model**: `CoffeeShopDetails`.  
- **ViewModel**: –∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–Ω—é.  
- **View**: –∫–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–≤–µ–¥–µ–Ω–∏—è, –∫–Ω–æ–ø–∫–∞ ¬´–ú–µ–Ω—é¬ª.  

### 3.4 –≠–∫—Ä–∞–Ω –º–µ–Ω—é
- **Model**: `MenuItem`.  
- **ViewModel**: –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–Ω—é –∏–∑ Firestore.  
- **View**: —Å–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π, –≤—ã–±–æ—Ä –æ–ø—Ü–∏–π (—Ä–∞–∑–º–µ—Ä, –º–æ–ª–æ–∫–æ, —Å–∏—Ä–æ–ø).  

### 3.5 –ö–æ—Ä–∑–∏–Ω–∞ –∏ –æ–ø–ª–∞—Ç–∞
- **Model**: `Order`.  
- **ViewModel**: –ø–æ–¥—Å—á—ë—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–ª–∞—Ç—ã.  
- **View**: –∫–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ + Apple Pay/–∫–∞—Ä—Ç–∞.  

### 3.6 –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- **Model**: `OrderConfirmation`.  
- **ViewModel**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –∑–∞–∫–∞–∑–∞, –≤—Ä–µ–º—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏.  
- **View**: —ç–∫—Ä–∞–Ω —Å QR-–∫–æ–¥–æ–º/–Ω–æ–º–µ—Ä–æ–º.  

### 3.7 –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
- **Model**: `OrderHistory`.  
- **ViewModel**: –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤.  
- **View**: —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—à–ª—ã—Ö –ø–æ–∫—É–ø–æ–∫.  

### 3.8 –ü—Ä–æ—Ñ–∏–ª—å
- **Model**: `UserProfile`.  
- **ViewModel**: –∑–∞–≥—Ä—É–∑–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
- **View**: –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –±–æ–Ω—É—Å—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.  

---

## üîπ –≠—Ç–∞–ø 4. –°–µ—Ä–≤–∏—Å—ã (Firebase)
1. **AuthService** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥.  
2. **FirestoreService** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ (`CoffeeShops`, `Menu`, `Orders`).  
3. **StorageService** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–æ—Ñ–µ–µ–Ω –∏ –º–µ–Ω—é.  
4. **PaymentService** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Apple Pay/Stripe (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏).  

---

## üîπ –≠—Ç–∞–ø 5. UI –∏ –î–∏–∑–∞–π–Ω
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **SF Symbols** –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã.  
- –¶–≤–µ—Ç–∞: —Å–≤–µ—Ç–ª–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (–±–µ–ª—ã–π —Ñ–æ–Ω, –∞–∫—Ü–µ–Ω—Ç—ã –∫–æ—Ñ–µ–π–Ω—ã—Ö –æ—Ç—Ç–µ–Ω–∫–æ–≤).  
- –ú–∏–Ω–∏–º—É–º –æ—Ç–≤–ª–µ–∫–∞—é—â–∏—Ö –¥–µ—Ç–∞–ª–µ–π, –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Å—Ç–æ—Ç—ã.  

---

## üîπ –≠—Ç–∞–ø 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. Unit-—Ç–µ—Å—Ç—ã –¥–ª—è ViewModel.  
2. UI-—Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–∑–∞–∫–∞–∑ ‚Üí –æ–ø–ª–∞—Ç–∞ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ).  
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞ (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é).  

---

## üîπ –≠—Ç–∞–ø 7. –î–µ–ø–ª–æ–π
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å **App Store Connect**.  
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **TestFlight** –¥–ª—è –±–µ—Ç–∞-—Ç–µ—Å—Ç–µ—Ä–æ–≤.  
3. –í –±—É–¥—É—â–µ–º ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ App Store.  

---

‚úÖ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–¥—ë—Ç **–ø–æ—ç—Ç–∞–ø–Ω–æ, —à–∞–≥ –∑–∞ —à–∞–≥–æ–º**, –±–µ–∑ –ø–µ—Ä–µ—Å–∫–æ–∫–æ–≤:  
**–°–Ω–∞—á–∞–ª–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Üí –ø–æ—Ç–æ–º —ç–∫—Ä–∞–Ω—ã ‚Üí –ø–æ—Ç–æ–º —Å–µ—Ä–≤–∏—Å—ã ‚Üí –¥–∏–∑–∞–π–Ω ‚Üí —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí —Ä–µ–ª–∏–∑.**
